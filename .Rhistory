write.csv(koubai.address, "aa.csv")
koubai.address %>% class()
suppressMessages(library(tidyverse))
koubai.address %>% class()
koubai.address %>% class
koubai.address[1]
koubai.address <- getURL(
"https://raw.githubusercontent.com/luka3117/kagome/master/total.csv"
)
koubai.address %>% class()
koubai.address <- getURL(
"https://raw.githubusercontent.com/luka3117/kagome/master/total.csv"
)
library(RCurl)
koubai.address <- getURL(
"https://raw.githubusercontent.com/luka3117/kagome/master/total.csv"
)
koubai.address %>% class()
koubai.address %>% length()
koubai<-read.csv(text = koubai.address) %>% tbl_df()
koubai
koubai<-read.csv(text = koubai.address) %>% tbl_df()
koubai
koubai %>% dim()
koubai %>% colnames()
koubai<-read.csv(text = koubai.address, row.names = F) %>% tbl_df()
koubai<-read.csv(text = koubai.address, row.names = 1) %>% tbl_df()
koubai
koubai %>% dim()
koubai %>% colnames()
koubai %>% summary()
plot(koubai)
plot(koubai)
suppressMessages(library(readxl))
suppressMessages(library(dplyr))
suppressMessages(library(tidyverse))
dir(pattern = "ranking")
filename.list <- dir(pattern = "ranking")[-c(7)]
filename.list
filename.list
sex.age.variable<-gsub("トマト調味料アイテムランキング","",filename.list) %>%
gsub("_ranking2_","",.) %>%
gsub("xls","",.) %>%
gsub("\\d{7}","",.) %>%
gsub("\\(|\\)","",.) %>%
gsub("\\.","",.) %>%
gsub("性","性.",.) %>% data.frame(a=.)
sex.age.variable
gsub("トマト調味料アイテムランキング","",filename.list) %>%
gsub("_ranking2_","",.) %>%
gsub("xls","",.) %>%
gsub("\\d{7}","",.) %>%
gsub("\\(|\\)","",.) %>%
gsub("\\.","",.) %>%
gsub("性","性.",.) %>% data.frame(a=.)
sex.age.variable<-gsub("トマト調味料アイテムランキング","",filename.list) %>%
gsub("_ranking2_","",.) %>%
gsub("xls","",.) %>%
gsub("\\d{7}","",.) %>%
gsub("\\(|\\)","",.) %>%
gsub("\\.","",.) %>%
gsub("性","性.",.) %>% data.frame(a=.) %>% separate(., .$a, c("sex", "age"))
sex.age.variable<-gsub("トマト調味料アイテムランキング","",filename.list) %>%
gsub("_ranking2_","",.) %>%
gsub("xls","",.) %>%
gsub("\\d{7}","",.) %>%
gsub("\\(|\\)","",.) %>%
gsub("\\.","",.) %>%
gsub("性","性.",.) %>% data.frame(a=.) %>% separate(., a, c("sex", "age"))
sex.age.variable <-
separate(sex.age.variable, a, c("sex", "age"))
gsub("トマト調味料アイテムランキング","",filename.list) %>%
gsub("_ranking2_","",.) %>%
gsub("xls","",.) %>%
gsub("\\d{7}","",.) %>%
gsub("\\(|\\)","",.) %>%
gsub("\\.","",.) %>%
gsub("性","性.",.) %>% data.frame(a=.) %>% separate(., a, c("sex", "age"))
file.load <- function(i) {
read_excel(path = filename.list[i],
sheet = "【ﾃｷｽﾄ】",
skip = 0) %>% filter(!is.na(順位))
}
suppressMessages(library(readxl))
suppressMessages(library(dplyr))
suppressMessages(library(tidyverse))
dir(pattern = "ranking")
filename.list <- dir(pattern = "ranking")[-c(7)]
filename.list
sex.age.variable
file.load <- function(i) {
read_excel(path = filename.list[i],
sheet = "【ﾃｷｽﾄ】",
skip = 0) %>% filter(!is.na(順位))
}
file.load(1)
